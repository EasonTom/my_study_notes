本次使用的是win10+deepin15.10双系统，安装windows的时候分了c、d、e三个盘，c盘用来做windows系统盘，d盘做deepin系统盘，e盘用来存放文件，方便windows和linux共同存取。

# 双系统安装完成后linux系统无法写入windows的e盘数据，提示只读文件系统

## 问题描述

deepin系统成功安装完成后，打开文件夹可以看到系统自动将windows的e盘挂载到了`/media/user`目录下（如果没有，请手动挂载一下），但是打开盘符发现里面的文件夹和文件都是加了锁的，只能读取不能写入，且无法修改权限。

## [解决方法](<https://blog.csdn.net/qq_36404766/article/details/89766293>)

通过umount命令卸载问题盘驱，再重新挂载的时候出现系统提示，原来是Windows电源模式中快速启动模式开启导致盘符被锁。

所以转到win10系统，找到电源设置，关掉快速启动。

# 安装软件的问题

deepin虽然有自己的商城，但是安装软件大多数还是要下载安装包然后自己编译。但是安装软件会依赖于其他软件包。

使用dpkg安装deb包出现依赖的问题：

首先将软件安装的源换掉：

打开源列表文件：

    sudo vim /etc/apt/sources.list

将里面的内容换掉，注意换之前最好备份一下：

    # Generated by deepin-installer
    deb [by-hash=force] http://mirrors.aliyun.com/deepin panda main contrib non-free
    deb-src http://mirrors.aliyun.com/deepin panda main contrib non-free

然后更新一下源：

    sudo apt-get update

无报错说明换源成功

但是在换阿里或者其他源的时候会出现错误。

阿里源：

```
# 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse

# 预发布软件源，不建议启用
# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverse
```
在更新的时候报错：
```
由于没有公钥，无法验证下列签名： NO_PUBKEY E40EBBA24FF2FC69
```

网上查找解决方案：

    sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E40EBBA24FF2FC69  # 解决方法中的 E40EBBA24FF2FC69要与你提示错误中的签名（如下）一致。

但是又会报错：

```
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9
Executing: /tmp/tmp.zHjcipDG21/gpg.1.sh --keyserver keyserver.ubuntu.com --recv-keys E084DAB9
gpg: failed to start the dirmngr '/usr/bin/dirmngr': 没有那个文件或目录
gpg: connecting dirmngr at '/tmp/tmp.zHjcipDG21/S.dirmngr' failed: 没有那个文件或目录
gpg: keyserver receive failed: No dirmngr

```

需要安装dirmngr的包：

    sudo apt install dirmngr

装包的时候又会遇到一些依赖问题，此时安装流程现将源换成可以用的，然后更新，然后强制解决依赖冲突等等操作。

    sudo apt-get -f -y install
    sudo apt --fix-broken install

然后再安装dirmngr，按照步骤完成源的更新

然后再使用`dpkg -i`再次安装软件包，还是出现依赖问题，此时运行如下命令：

    sudo apt-get -f -y install

然后再dpkg安装软件。

安装完软件后可以建立一个软链接。

# deepin安装redis-desktop-manager

安装常规软件可以使用上面的方法（如securecrt），但是安装edis-desktop-manager仍然会出现问题。

首先下载 RedisDesktopManager 的deb包，由于是以https开头的域名，为避免报错，添加 no-check-certificate 不检查证书

    wget https://github.com/uglide/RedisDesktopManager/releases/download/0.8.3/redis-desktop-manager_0.8.3-120_amd64.deb --no-check-certificate

或者去[官网](https://github.com/uglide/RedisDesktopManager/releases)下载这里下载的是0.8.3版本

然后使用dpkg安装时出现问题，提示缺少依赖，需要安装zlibc、libicu52

所以需要手动安装（不知道为什么这个不能自动补全依赖）

    sudo apt-get install zlib1g-dev
    sudo apt-get -f install libicu52

或者apt源下载较慢，使用wget下载然后dpkg安装

    wget http://security.ubuntu.com/ubuntu/pool/main/i/icu/libicu52_52.1-3_amd64.deb

然后安装redis-desktop-manager
    
    sudo apt-get -f install
    
    sudo dpkg -i redis-desktop-manager_0.8.3-120_amd64.deb

# deepin安装redis-desktop-manager新问题

使用上述方法安装完成后无法使用ssh通道（部分redis库需要通过跳板机连接），在redis的[官方文档](http://docs.redisdesktop.com/en/latest/install/#ubuntu-archlinux-debian-fedora-centos-opensuse-etc)找到了新的安装方法：

直接使用snap安装：

    sudo snap install redis-desktop-manager

但是在这之前需要安装snap

    $ sudo apt update
    $ sudo apt install snapd

官方文档提示0.9.9版本之后rdm好像默认不支持ssh了，需要手动打开（不知道之前的那个版本能不能通过这种方法打开ssh通道，没试过被我卸载重装了）

    To be able to access your ssh keys from RDM please connect ssh-key interface: 
    
    sudo snap connect redis-desktop-manager:ssh-keys



# 能ping通网络但是浏览器不能上网的问题

因为需要，安装了wireshark的抓包工具，安装完成后发现谷歌浏览器连接不上网络了，但是在终端中能ping通网络，同一个网址wget又被拒绝：

    正在连接 127.0.0.1:38495... 失败：拒绝连接。

从报错看出系统在连接一个代理的时候被拒绝，表示wireshake在安装的时候设置了系统代理，通过上网查到解决办法，在linux的系统设置中找到系统代理，将自动改成无就可以上网了。

# deepin安装appium

# 安装nodejs:

```
sudo apt-get install nodejs
```

# 安装npm

```
apt-get install npm	
```

# 安装appium

Appium Server其实可以通过命令 npm install -g appium来安装。不过由于众所周知的网络原因，直接使用这样安装会非常非常慢，甚至会安装失败，所以我们可以使用国内镜像来安装。

```
npm install -g cnpm --registry=https://registry.npm.taobao.org
npm install -g cnpm --registry=https://registry.npm.taobao.org
cnpm install -g appium@1.7.1
```

npm的包安装分为本地安装（local）、全局安装（global）两种，一般我们推荐使用全局安装。

appium运行

```
>appium

[Appium] Welcome to Appium v1.7.2

[Appium] Appium REST http interface listener started on 0.0.0.0:4723
```

如果输入appium后显示：“appium不是内部或外部命令,也不是可运行的程序或批处理文件” 可以将appium安装的路径 如： “C:\Users\Shuqing\AppData\Roaming\npm”配置到系统环境变量Path中

按键 ctrl+c 选择y 即可退出

appium卸载：

```
npm uninstall -g appium
```



## 安装Appium-desktop

下载地址：<https://github.com/appium/appium-desktop/releases>

上面提到的问题可以使用前面我们已经介绍了Appium Server来解决，Appium-desktop工具其实也封装了Appium server和Node.js依赖环境。

appium-desktop是我们初学者最容易上手的工具，后面课程首先会基于这个工具来讲解！然后再基于appium 命令来讲。

## **安装Appium-Python-Client**

通过命令： **pip install Appium-Python-Client** 进行安装。



参考：

```
https://www.cnblogs.com/gongxr/p/10656393.html
https://www.cnblogs.com/windhome/p/8024835.html
https://blog.csdn.net/qq_28863845/article/details/82999633
```

# deepin安装sdk

参考：

<https://blog.csdn.net/xudong_98/article/details/79286187>

<https://blog.csdn.net/u011974797/article/details/78973012>

# deepin安装anyproxy

<https://www.jianshu.com/p/d978d3b8f2aa>



# chromedriver下载地址

<http://npm.taobao.org/mirrors/chromedriver/>